(()=>{var e={};e.id=643,e.ids=[643],e.modules={399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6600:(e,t,n)=>{"use strict";n.r(t),n.d(t,{originalPathname:()=>O,patchFetch:()=>h,requestAsyncStorage:()=>b,routeModule:()=>p,serverHooks:()=>l,staticGenerationAsyncStorage:()=>c});var r={};n.r(r),n.d(r,{GET:()=>d});var o=n(3278),s=n(5002),a=n(4877),i=n(3530);async function m(e){let t=Object(function(){var e=Error("Cannot find module 'googleapis'");throw e.code="MODULE_NOT_FOUND",e}()).auth.OAuth2();t.setCredentials({access_token:e});let n=Object(function(){var e=Error("Cannot find module 'googleapis'");throw e.code="MODULE_NOT_FOUND",e}()).calendar({version:"v3",auth:t});return(await n.events.list({calendarId:"primary",timeMin:new Date().toISOString(),maxResults:10,singleEvents:!0,orderBy:"startTime"})).data.items}(function(){var e=Error("Cannot find module 'googleapis'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '@supabase/supabase-js'");throw e.code="MODULE_NOT_FOUND",e}();let u=process.env.SUPABASE_SERVICE_ROLE_KEY,x=Object(function(){var e=Error("Cannot find module '@supabase/supabase-js'");throw e.code="MODULE_NOT_FOUND",e}())("postgresql://postgres.opyxsmcftpnchcofxjnl:qHC7sxus60oQmjUr@aws-0-us-west-1.pooler.supabase.com:6543/postgres",u);async function d(e){let t=await Object(function(){var e=Error("Cannot find module 'next-auth/next'");throw e.code="MODULE_NOT_FOUND",e}())(i.authOptions);if(!t)return new Response(JSON.stringify({error:"Unauthorized"}),{status:401,headers:{"Content-Type":"application/json"}});try{let e=await m(t.accessToken),{data:n,error:r}=await x.from("meetings").select("*").eq("user_id",t.user.id);if(r)throw r;let o=[...e,...n].sort((e,t)=>new Date(e.start.dateTime||e.date_time)-new Date(t.start.dateTime||t.date_time));return new Response(JSON.stringify(o),{status:200,headers:{"Content-Type":"application/json"}})}catch(e){return new Response(JSON.stringify({error:e.message}),{status:500,headers:{"Content-Type":"application/json"}})}}!function(){var e=Error("Cannot find module 'next-auth/next'");throw e.code="MODULE_NOT_FOUND",e}();let p=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/meetings/route",pathname:"/api/meetings",filename:"route",bundlePath:"app/api/meetings/route"},resolvedPagePath:"C:\\Users\\james\\changesheets\\app\\api\\meetings\\route.js",nextConfigOutput:"",userland:r}),{requestAsyncStorage:b,staticGenerationAsyncStorage:c,serverHooks:l}=p,O="/api/meetings/route";function h(){return(0,a.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:c})}},3530:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GET:()=>o,POST:()=>o}),function(){var e=Error("Cannot find module 'next-auth'");throw e.code="MODULE_NOT_FOUND",e}();var r=n(1320);let o=Object(function(){var e=Error("Cannot find module 'next-auth'");throw e.code="MODULE_NOT_FOUND",e}())(r.authOptions)},1320:()=>{throw Error("Module build failed (from ./node_modules/next/dist/build/webpack/loaders/next-swc-loader.js):\nError: \n  \x1b[31mx\x1b[0m 'const' declarations must be initialized\n    ,-[\x1b[36;1;4mC:\\Users\\james\\changesheets\\lib\\auth.js\x1b[0m:5:1]\n \x1b[2m 5\x1b[0m | import { SupabaseAdapter } from \"@next-auth/supabase-adapter\"\n \x1b[2m 6\x1b[0m | import { resend } from './resend'\n \x1b[2m 7\x1b[0m | \n \x1b[2m 8\x1b[0m | export const authOptions: NextAuthOptions = {\n    : \x1b[31;1m             ^^^^^^^^^^^\x1b[0m\n \x1b[2m 9\x1b[0m |   providers: [\n \x1b[2m10\x1b[0m |     GoogleProvider({\n \x1b[2m10\x1b[0m |       clientId: process.env.GOOGLE_CLIENT_ID!,\r\n    `----\n\n  \x1b[31mx\x1b[0m Expected a semicolon\n    ,-[\x1b[36;1;4mC:\\Users\\james\\changesheets\\lib\\auth.js\x1b[0m:5:1]\n \x1b[2m 5\x1b[0m | import { SupabaseAdapter } from \"@next-auth/supabase-adapter\"\n \x1b[2m 6\x1b[0m | import { resend } from './resend'\n \x1b[2m 7\x1b[0m | \n \x1b[2m 8\x1b[0m | export const authOptions: NextAuthOptions = {\n    : \x1b[31;1m                        ^\x1b[0m\n \x1b[2m 9\x1b[0m |   providers: [\n \x1b[2m10\x1b[0m |     GoogleProvider({\n \x1b[2m10\x1b[0m |       clientId: process.env.GOOGLE_CLIENT_ID!,\r\n    `----\n\n  \x1b[31mx\x1b[0m Expected ',', got '!'\n    ,-[\x1b[36;1;4mC:\\Users\\james\\changesheets\\lib\\auth.js\x1b[0m:8:1]\n \x1b[2m 8\x1b[0m | export const authOptions: NextAuthOptions = {\n \x1b[2m 9\x1b[0m |   providers: [\n \x1b[2m10\x1b[0m |     GoogleProvider({\n \x1b[2m11\x1b[0m |       clientId: process.env.GOOGLE_CLIENT_ID!,\n    : \x1b[31;1m                                            ^\x1b[0m\n \x1b[2m12\x1b[0m |       clientSecret: process.env.GOOGLE_CLIENT_SECRET!,\n \x1b[2m13\x1b[0m |       authorization: {\n \x1b[2m13\x1b[0m |         params: {\r\n    `----\n\n\nCaused by:\n    Syntax Error")},3278:(e,t,n)=>{"use strict";e.exports=n(517)}};var t=require("../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[379],()=>n(6600));module.exports=r})();